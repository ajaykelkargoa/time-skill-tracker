<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Time-Skill Alignment Tracker</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/recharts@2.5.0/dist/Recharts.js"></script>
</head>
<body>
    <div id="root"></div>
    <script type="text/babel">
        const { useState } = React;
        const { PieChart, Pie, Cell, ResponsiveContainer, Legend, Tooltip } = Recharts;
        function TimeSkillTracker() {
          const [activities, setActivities] = useState([]);
          const [weeks, setWeeks] = useState([]);
          const [currentActivity, setCurrentActivity] = useState({
            name: '', hours: '', skillLevel: 'good', skillConfidence: 'high', impact: 'medium',
            delegable: false, requiredByRole: false, whyDoingThis: '', goalAlignment: '',
            energyBefore: 'neutral', energyAfter: 'neutral', overInvested: false,
            revisedMultipleTimes: false, struggledToFinish: false, avoidedStarting: false, enjoymentDriven: false
          });
          const [activeView, setActiveView] = useState('howto');
          const addActivity = () => {
            if (currentActivity.name && currentActivity.hours) {
              setActivities([...activities, {...currentActivity, hours: parseFloat(currentActivity.hours), id: Date.now()}]);
              setCurrentActivity({
                name: '', hours: '', skillLevel: 'good', skillConfidence: 'high', impact: 'medium',
                delegable: false, requiredByRole: false, whyDoingThis: '', goalAlignment: '',
                energyBefore: 'neutral', energyAfter: 'neutral', overInvested: false,
                revisedMultipleTimes: false, struggledToFinish: false, avoidedStarting: false, enjoymentDriven: false
              });
            }
          };
          const deleteActivity = (id) => { setActivities(activities.filter(a => a.id !== id)); };
          const saveWeek = () => {
            const newWeek = {weekName: `Week ${new Date().toLocaleDateString()}`, activities: activities, date: new Date().toISOString(), id: Date.now()};
            setWeeks([...weeks, newWeek]); setActivities([]); alert('Week saved!');
          };
          const calculateTotals = () => {
            const totals = {good: 0, neutral: 0, bad: 0, total: 0, highImpact: 0, mediumImpact: 0, lowImpact: 0, delegable: 0, overInvested: 0, energyDrains: 0, perfectionism: 0};
            activities.forEach(activity => {
              totals[activity.skillLevel] += activity.hours; totals.total += activity.hours;
              if (activity.impact === 'high') totals.highImpact += activity.hours;
              if (activity.impact === 'medium') totals.mediumImpact += activity.hours;
              if (activity.impact === 'low') totals.lowImpact += activity.hours;
              if (activity.delegable) totals.delegable += activity.hours;
              if (activity.overInvested) totals.overInvested += activity.hours;
              if (activity.energyAfter === 'drained') totals.energyDrains += activity.hours;
              if (activity.revisedMultipleTimes || activity.struggledToFinish || activity.overInvested) totals.perfectionism += activity.hours;
            });
            return totals;
          };
          const totals = calculateTotals();
          const chartData = [{name:'Strength Zone',value:totals.good,color:'#10b981'},{name:'Learning Zone',value:totals.neutral,color:'#f59e0b'},{name:'Challenge Zone',value:totals.bad,color:'#ef4444'}].filter(d=>d.value>0);
          const impactData = [{name:'High Impact',value:totals.highImpact,color:'#8b5cf6'},{name:'Medium Impact',value:totals.mediumImpact,color:'#06b6d4'},{name:'Low Impact',value:totals.lowImpact,color:'#64748b'}].filter(d=>d.value>0);
          const getInsights = () => {
            if (totals.total === 0) return [];
            const insights = [];
            const goodPercent = (totals.good / totals.total * 100).toFixed(0);
            const badPercent = (totals.bad / totals.total * 100).toFixed(0);
            const delegablePercent = (totals.delegable / totals.total * 100).toFixed(0);
            const perfectionismPercent = (totals.perfectionism / totals.total * 100).toFixed(0);
            const lowConfidence = activities.filter(a => a.skillConfidence === 'low');
            if (lowConfidence.length > 0) {
              const lowConfHours = lowConfidence.reduce((sum, a) => sum + a.hours, 0);
              insights.push({type:'awareness',text:`${lowConfHours}h spent on activities where you're uncertain of your skill level. Consider getting feedback.`});
            }
            const requiredButDelegable = activities.filter(a => a.requiredByRole && a.delegable);
            if (requiredButDelegable.length > 0) {
              const hours = requiredButDelegable.reduce((sum, a) => sum + a.hours, 0);
              insights.push({type:'opportunity',text:`${hours}h on role-required tasks that could be delegated. Can you develop someone else?`});
            }
            const noGoalAlignment = activities.filter(a => !a.goalAlignment && a.impact !== 'low');
            if (noGoalAlignment.length > 0 && noGoalAlignment.length > activities.length * 0.3) {
              insights.push({type:'question',text:'Many activities lack clear goal alignment. Which of your top 3 goals does each task serve?'});
            }
            if (totals.perfectionism > totals.total * 0.3) insights.push({type:'critical',text:`${perfectionismPercent}% shows perfectionism behaviors.`});
            const goodLowImpact = activities.filter(a => a.skillLevel === 'good' && a.impact === 'low').reduce((sum,a)=>sum+a.hours,0);
            if (goodLowImpact > totals.total * 0.15) insights.push({type:'warning',text:`${((goodLowImpact/totals.total)*100).toFixed(0)}% perfecting LOW-impact work.`});
            if (totals.delegable > totals.total * 0.2) insights.push({type:'opportunity',text:`${delegablePercent}% could be delegated.`});
            const badHighImpact = activities.filter(a => a.skillLevel === 'bad' && a.impact === 'high').reduce((sum,a)=>sum+a.hours,0);
            if (badHighImpact < 5 && totals.total > 20) insights.push({type:'question',text:`Only ${badHighImpact}h on high-impact weak areas.`});
            if (totals.energyDrains > totals.total * 0.25) insights.push({type:'warning',text:`${((totals.energyDrains/totals.total)*100).toFixed(0)}% leaves you drained.`});
            if (totals.good > totals.total * 0.4 && totals.good < totals.total * 0.65 && totals.bad > totals.total * 0.15) insights.push({type:'positive',text:`Good balance: ${goodPercent}% strengths, ${badPercent}% growth.`});
            return insights;
          };
          const getActionableRecommendations = () => {
            const recommendations = [];
            const delegationCandidates = activities.filter(a => a.delegable).sort((a,b)=>b.hours-a.hours).slice(0,3);
            if (delegationCandidates.length > 0) recommendations.push({category:'Delegate These Now',items:delegationCandidates.map(a=>`${a.name} (${a.hours}h)`)});
            const overInvested = activities.filter(a => a.overInvested || a.revisedMultipleTimes).slice(0,3);
            if (overInvested.length > 0) recommendations.push({category:'Define Good Enough',items:overInvested.map(a=>a.name)});
            const growthOpportunities = activities.filter(a => a.impact === 'high' && (a.skillLevel === 'neutral' || a.skillLevel === 'bad')).slice(0,3);
            if (growthOpportunities.length > 0) recommendations.push({category:'Invest More Time In',items:growthOpportunities.map(a=>a.name)});
            return recommendations;
          };
          const getMatrixData = () => {
            const matrix = {};
            ['good','neutral','bad'].forEach(skill => {
              ['high','medium','low'].forEach(impact => {
                const key = `${skill}-${impact}`;
                const filtered = activities.filter(a => a.skillLevel === skill && a.impact === impact);
                matrix[key] = {hours: filtered.reduce((sum, a) => sum + a.hours, 0), count: filtered.length, activities: filtered};
              });
            });
            return matrix;
          };
          const exportData = () => {
            const data = {currentWeek:{activities,totals,insights:getInsights(),recommendations:getActionableRecommendations()},historicalWeeks:weeks,exportDate:new Date().toISOString()};
            const blob = new Blob([JSON.stringify(data,null,2)],{type:'application/json'});
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `time-analysis-${new Date().toLocaleDateString()}.json`;
            a.click();
          };
          const matrixData = getMatrixData();
          return (
            <div className="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50 p-4">
              <div className="max-w-7xl mx-auto">
                <div className="bg-white rounded-lg shadow-lg p-6 mb-6">
                  <h1 className="text-3xl font-bold text-gray-800 mb-2">Advanced Time-Skill Tracker</h1>
                  <p className="text-gray-600 mb-4">Analyze where you invest time, energy, and attention</p>
                  <div className="flex gap-2 flex-wrap">
                    {['howto','entry','analysis','matrix'].map(view => (
                      <button key={view} onClick={()=>setActiveView(view)} disabled={view!=='howto'&&view!=='entry'&&activities.length===0}
                        className={`px-4 py-2 rounded-lg ${activeView===view?'bg-blue-600 text-white':'bg-gray-200 text-gray-700'}`}>
                        {view==='howto'?'How It Works':view==='entry'?'Track Activities':view==='analysis'?'View Analysis':'Skill × Impact Matrix'}
                      </button>
                    ))}
                  </div>
                </div>
                {activeView==='howto'&&<div className="bg-white rounded-lg shadow-lg p-8"><h2 className="text-2xl font-bold mb-4">How This Tool Works</h2><p className="mb-6">This tool helps uncover hidden patterns in how you invest your time, energy, and attention.</p><div className="space-y-6"><div className="border-l-4 border-blue-500 pl-4"><h3 className="text-lg font-semibold mb-2">Step 1: Track Your Week</h3><p>List all major activities from your past week with hours, skill level, impact, energy, and behaviors.</p></div><div className="border-l-4 border-green-500 pl-4"><h3 className="text-lg font-semibold mb-2">Step 2: Review the Analysis</h3><p>Get automatic insights about perfectionism, delegation opportunities, and energy patterns.</p></div><div className="border-l-4 border-purple-500 pl-4"><h3 className="text-lg font-semibold mb-2">Step 3: Explore the Matrix</h3><p>See where your time goes across 9 skill × impact quadrants.</p></div><div className="border-l-4 border-indigo-500 pl-4"><h3 className="text-lg font-semibold mb-2">Step 4: Reflect and Discuss</h3><p>Use this as a starting point for conversation with your coach.</p></div></div><div className="mt-8 p-6 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border-2 border-blue-200"><h3 className="text-lg font-semibold mb-3">🎯 Getting the Most Value</h3><ul className="space-y-2 text-sm"><li>• <strong>Be honest:</strong> This tool only works if you're truthful</li><li>• <strong>Track a typical week:</strong> Choose a representative week</li><li>• <strong>Include everything significant:</strong> Work, meetings, admin, development</li><li>• <strong>Focus on one change:</strong> Pick ONE pattern to shift</li></ul></div><div className="mt-6 text-center"><button onClick={()=>setActiveView('entry')} className="px-8 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-semibold">Start Tracking Activities →</button></div></div>}
                {activeView==='entry'&&<div className="space-y-6"><div className="bg-white rounded-lg shadow-lg p-6"><h2 className="text-xl font-bold mb-4">Add Activity</h2><div className="grid grid-cols-1 md:grid-cols-2 gap-6"><div className="space-y-4"><div><label className="block text-sm font-medium mb-2">Activity Name</label><input type="text" placeholder="e.g., Client presentations" className="w-full px-4 py-2 border rounded-lg" value={currentActivity.name} onChange={(e)=>setCurrentActivity({...currentActivity,name:e.target.value})}/></div><div><label className="block text-sm font-medium mb-2">Hours Spent</label><input type="number" placeholder="5" step="0.5" min="0" className="w-full px-4 py-2 border rounded-lg" value={currentActivity.hours} onChange={(e)=>setCurrentActivity({...currentActivity,hours:e.target.value})}/></div><div><label className="block text-sm font-medium mb-2">Your Skill Level</label><select className="w-full px-4 py-2 border rounded-lg" value={currentActivity.skillLevel} onChange={(e)=>setCurrentActivity({...currentActivity,skillLevel:e.target.value})}><option value="good">Good at it</option><option value="neutral">Neutral</option><option value="bad">Bad at it</option></select></div><div><label className="block text-sm font-medium mb-2">Confidence in Skill Assessment</label><select className="w-full px-4 py-2 border rounded-lg" value={currentActivity.skillConfidence} onChange={(e)=>setCurrentActivity({...currentActivity,skillConfidence:e.target.value})}><option value="high">High - I know where I stand</option><option value="medium">Medium - Somewhat uncertain</option><option value="low">Low - Just guessing</option></select></div><div><label className="block text-sm font-medium mb-2">Strategic Impact</label><select className="w-full px-4 py-2 border rounded-lg" value={currentActivity.impact} onChange={(e)=>setCurrentActivity({...currentActivity,impact:e.target.value})}><option value="high">High - Critical</option><option value="medium">Medium</option><option value="low">Low</option></select></div><div><label className="block text-sm font-medium mb-2">Which Goal Does This Serve?</label><input type="text" placeholder="e.g., Increase revenue by 20%" className="w-full px-4 py-2 border rounded-lg" value={currentActivity.goalAlignment} onChange={(e)=>setCurrentActivity({...currentActivity,goalAlignment:e.target.value})}/><p className="text-xs text-gray-500 mt-1">Optional: Connect to your top 3 goals</p></div></div><div className="space-y-4"><div><label className="block text-sm font-medium mb-2">Why Are You Doing This?</label><textarea placeholder="e.g., Required by my role..." className="w-full px-4 py-2 border rounded-lg h-20 resize-none" value={currentActivity.whyDoingThis} onChange={(e)=>setCurrentActivity({...currentActivity,whyDoingThis:e.target.value})}/><p className="text-xs text-gray-500 mt-1">Especially important for low-impact activities</p></div><div><label className="block text-sm font-medium mb-2">Energy Before</label><select className="w-full px-4 py-2 border rounded-lg" value={currentActivity.energyBefore} onChange={(e)=>setCurrentActivity({...currentActivity,energyBefore:e.target.value})}><option value="energized">Energized</option><option value="neutral">Neutral</option><option value="drained">Drained</option></select></div><div><label className="block text-sm font-medium mb-2">Energy After</label><select className="w-full px-4 py-2 border rounded-lg" value={currentActivity.energyAfter} onChange={(e)=>setCurrentActivity({...currentActivity,energyAfter:e.target.value})}><option value="energized">Energized</option><option value="neutral">Neutral</option><option value="drained">Drained</option></select></div><div className="space-y-2 pt-2">{[{key:'requiredByRole',label:'Required by my role'},{key:'delegable',label:'Could someone else do this?'},{key:'overInvested',label:'Spent more time than needed',show:currentActivity.skillLevel==='good'},{key:'revisedMultipleTimes',label:'Revised multiple times'},{key:'struggledToFinish',label:'Struggled to finish'},{key:'avoidedStarting',label:'Avoided starting'},{key:'enjoymentDriven',label:'Did for enjoyment'}].map(({key,label,show=true})=>show&&<label key={key} className="flex items-center space-x-2"><input type="checkbox" checked={currentActivity[key]} onChange={(e)=>setCurrentActivity({...currentActivity,[key]:e.target.checked})} className="rounded"/><span className="text-sm">{label}</span></label>)}</div></div></div><button onClick={addActivity} className="mt-6 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700">+ Add Activity</button></div>{activities.length>0&&<div className="bg-white rounded-lg shadow-lg p-6"><div className="flex justify-between items-center mb-4"><h2 className="text-xl font-bold">Activities ({activities.length})</h2><div className="flex gap-2"><button onClick={saveWeek} className="px-4 py-2 bg-green-600 text-white rounded-lg text-sm">Save Week</button><button onClick={exportData} className="px-4 py-2 bg-gray-600 text-white rounded-lg text-sm">Export</button></div></div><div className="space-y-2 max-h-96 overflow-y-auto">{activities.map(activity=><div key={activity.id} className="p-4 bg-gray-50 rounded-lg"><div className="flex justify-between"><div className="flex-1"><div className="flex items-center gap-2 mb-2"><span className="font-medium">{activity.name}</span><span className="text-gray-600">({activity.hours}h)</span></div><div className="flex flex-wrap gap-2 text-xs"><span className={`px-2 py-1 rounded-full ${activity.skillLevel==='good'?'bg-green-100 text-green-800':activity.skillLevel==='neutral'?'bg-yellow-100 text-yellow-800':'bg-red-100 text-red-800'}`}>{activity.skillLevel}</span><span className={`px-2 py-1 rounded-full ${activity.impact==='high'?'bg-purple-100 text-purple-800':activity.impact==='medium'?'bg-blue-100 text-blue-800':'bg-gray-100 text-gray-800'}`}>{activity.impact} impact</span>{activity.delegable&&<span className="px-2 py-1 rounded-full bg-orange-100 text-orange-800">delegable</span>}{activity.requiredByRole&&<span className="px-2 py-1 rounded-full bg-indigo-100 text-indigo-800">required</span>}{activity.overInvested&&<span className="px-2 py-1 rounded-full bg-red-100 text-red-800">over-invested</span>}{activity.skillConfidence==='low'&&<span className="px-2 py-1 rounded-full bg-yellow-100 text-yellow-800">uncertain</span>}{activity.goalAlignment&&<span className="px-2 py-1 rounded-full bg-green-100 text-green-800">goal-aligned</span>}</div></div><button onClick={()=>deleteActivity(activity.id)} className="text-red-600 hover:text-red-800 ml-4">✕</button></div></div>)}</div><div className="mt-4 p-4 bg-blue-50 rounded-lg"><p className="text-sm"><strong>Total:</strong> {totals.total}h • <strong>Delegable:</strong> {totals.delegable}h • <strong>Perfectionism:</strong> {totals.perfectionism}h</p></div></div>}</div>}
                {activeView==='analysis'&&activities.length>0&&<div className="space-y-6"><div className="grid grid-cols-1 md:grid-cols-4 gap-4">{[{label:'Total Hours',value:totals.total+'h',color:'gray'},{label:'Delegable',value:totals.delegable+'h',percent:Math.round((totals.delegable/totals.total)*100),color:'orange'},{label:'Perfectionism',value:totals.perfectionism+'h',percent:Math.round((totals.perfectionism/totals.total)*100),color:'red'},{label:'Energy Drains',value:totals.energyDrains+'h',percent:Math.round((totals.energyDrains/totals.total)*100),color:'purple'}].map((stat,i)=><div key={i} className="bg-white rounded-lg shadow p-4"><div className="text-sm text-gray-600 mb-1">{stat.label}</div><div className={`text-3xl font-bold text-${stat.color}-600`}>{stat.value}</div>{stat.percent!==undefined&&<div className="text-xs text-gray-500">{stat.percent}%</div>}</div>)}</div><div className="grid grid-cols-1 md:grid-cols-2 gap-6">{[{title:'Time by Skill Level',data:chartData},{title:'Time by Impact',data:impactData}].map((chart,i)=><div key={i} className="bg-white rounded-lg shadow-lg p-6"><h3 className="text-lg font-semibold mb-4">{chart.title}</h3><ResponsiveContainer width="100%" height={300}><PieChart><Pie data={chart.data} cx="50%" cy="50%" labelLine={false} label={({percent})=>`${(percent*100).toFixed(0)}%`} outerRadius={100} dataKey="value">{chart.data.map((entry,index)=><Cell key={`cell-${index}`} fill={entry.color}/>)}</Pie><Tooltip/><Legend/></PieChart></ResponsiveContainer></div>)}</div>{getInsights().length>0&&<div className="bg-white rounded-lg shadow-lg p-6"><h3 className="text-lg font-semibold mb-4">⚠️ Key Insights</h3><div className="space-y-3">{getInsights().map((insight,i)=><div key={i} className={`p-4 rounded-lg border-l-4 ${insight.type==='critical'?'bg-red-50 border-red-500':insight.type==='warning'?'bg-orange-50 border-orange-500':insight.type==='question'?'bg-blue-50 border-blue-500':insight.type==='opportunity'?'bg-purple-50 border-purple-500':insight.type==='awareness'?'bg-yellow-50 border-yellow-500':'bg-green-50 border-green-500'}`}><p>{insight.text}</p></div>)}</div><div className="mt-6 p-6 bg-indigo-50 rounded-lg"><h4 className="font-semibold mb-3">Coaching Questions:</h4><ul className="space-y-2 text-sm"><li>• What surprises you about how you spend your time?</li><li>• Where might you be over-polishing work that is already good enough?</li><li>• What could you delegate to create space for growth?</li><li>• Are you avoiding challenges because they are uncomfortable or truly not strategic?</li><li>• If you reallocated 5 hours, where would you invest them?</li></ul></div></div>}{getActionableRecommendations().length>0&&<div className="bg-white rounded-lg shadow-lg p-6"><h3 className="text-lg font-semibold mb-4">Action Plan</h3><div className="space-y-4">{getActionableRecommendations().map((rec,i)=><div key={i} className="p-4 bg-gray-50 rounded-lg"><h4 className="font-semibold mb-2">{rec.category}</h4><ul className="list-disc list-inside space-y-1 text-sm">{rec.items.map((item,j)=><li key={j}>{item}</li>)}</ul></div>)}</div></div>}</div>}
                {activeView==='matrix'&&activities.length>0&&<div className="bg-white rounded-lg shadow-lg p-6"><h3 className="text-lg font-semibold mb-4">Skill × Impact Matrix</h3><p className="text-sm text-gray-600 mb-6">Shows where you invest time across skill and impact dimensions</p><div className="overflow-x-auto"><table className="w-full border-collapse"><thead><tr><th className="border p-3 bg-gray-50 text-left">Skill Level</th><th className="border p-3 bg-purple-50">High Impact</th><th className="border p-3 bg-blue-50">Medium Impact</th><th className="border p-3 bg-gray-50">Low Impact</th></tr></thead><tbody>{[{skill:'Good at it',bg:'green'},{skill:'Neutral',bg:'yellow'},{skill:'Bad at it',bg:'red'}].map((row,i)=><tr key={i}><td className={`border p-3 bg-${row.bg}-50 font-medium`}>{row.skill}</td>{['high','medium','low'].map(impact=>{const key=`${['good','neutral','bad'][i]}-${impact}`;const data=matrixData[key];return <td key={impact} className="border p-3 text-center"><div className="font-bold text-lg">{data.hours}h</div><div className="text-xs text-gray-600">{data.count} activities</div></td>})}</tr>)}</tbody></table></div><div className="mt-6 p-4 bg-yellow-50 border-l-4 border-yellow-500 rounded"><h4 className="font-semibold mb-2">What to look for:</h4><ul className="text-sm space-y-1"><li>• <strong>Top-left (Good + High Impact):</strong> Your sweet spot - leverage this</li><li>• <strong>Bottom-right (Bad + Low Impact):</strong> Stop doing these</li><li>• <strong>Bottom-left (Bad + High Impact):</strong> Invest in learning here</li><li>• <strong>Top-right (Good + Low Impact):</strong> Perfectionism trap - delegate!</li></ul></div></div>}
              </div>
            </div>
          );
        }
        ReactDOM.render(<TimeSkillTracker />, document.getElementById('root'));
    </script>
</body>
</html>
